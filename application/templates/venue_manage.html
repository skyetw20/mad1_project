{% extends 'base.html' %} {% block body %}
<h1>Venues</h1>
<div style="width: 95%; margin: 0 auto">
  <table class="table table-striped">
    <thead>
      <tr>
        <th>ID</th>
        <th>Name</th>
        <th>City</th>
        <th>Capacity</th>
        <th>Rating</th>
        <th>Booked</th>
        <th>Base Price</th>
        <th>Rate Per Hour</th>
        <th>Action</th>
      </tr>
    </thead>
    <tbody>
      {% for venue in venues %}
      <tr>
        <td>{{ venue.id }}</td>
        <td>{{ venue.name }}</td>
        <td>{{ venue.place }}</td>
        <td>{{ venue.capacity }}</td>
        <td>{{ venue.rating }}</td>
        <td>{{ venue.capacity_pre }}</td>
        <td>{{ venue.base_price }}</td>
        <td>{{ venue.rph }}</td>
        <td>
          <button class="btn btn-primary" onclick="confirmUpdate({{venue.id}})">Modify</button>
          <button class="btn btn-danger" onclick="confirmDelete({{venue.id}})">Delete</button>
        </td>
      </tr>
      {% endfor %}
    </tbody>
  </table>

</div>
{% if status=='admin'%}
  <div class="container">
    <div class="row">
      <a href="{{url_for('views.movie_management')}}" class="col-md-4 mb-4">
        <button type="button" class="btn btn-dark" style="width: 200px">
          Movie Management
        </button>
      </a>
      <a href="{{url_for('views.show_management')}}" class="col-md-4 mb-4">
        <button type="button" class="btn btn-dark" style="width: 200px">
          Show Management
        </button>
      </a>
      <a href="{{url_for('views.venue_management')}}" class="col-md-4 mb-4">
        <button type="button" class="btn btn-dark" style="width: 200px">
          Venue Management
        </button>
      </a>
    </div>
    <div class="row">
      <a href="{{url_for('views.add_movie')}}" class="col-md-4 mb-4">
        <button type="button" class="btn btn-dark" style="width: 200px">
          Add New Movie
        </button>
      </a>
      <a href="{{url_for('views.add_show')}}" class="col-md-4 mb-4">
        <button type="button" class="btn btn-dark" style="width: 200px">
          Add New Show
        </button>
      </a>
      <a href="{{url_for('views.add_venue')}}" class="col-md-4 mb-4">
        <button type="button" class="btn btn-dark" style="width: 200px">
          Add New Venue
        </button>
      </a>
    </div>
  </div>
  {%endif%}
<script>
  function confirmDelete(id) {
    if (confirm("Are you sure you want to delete this item?")) {
      window.location.href = `http://127.0.0.1:5000/admin/venue_management/delete/${id}`;
    }
  }
  function confirmUpdate(id) {
    if (confirm("Are you sure you want to update this item?")) {
      window.location.href = `http://127.0.0.1:5000/admin/venue_management/update/${id}`;
    }
  }
</script>
  {% endblock %}
</div>
